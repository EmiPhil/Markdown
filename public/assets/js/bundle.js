function render(target,source){target||(target=renderee),source||(source=codeMirror.getValue());var parsed=reader.parse(source),result=writer.render(parsed);removal(target),target.innerHTML=result}function destroyModal(){removal(modalPlaceholder)}function destroyNotices(){removal(notifyPlaceholder)}function openNav(){classie.toggle(nav,"open"),TweenLite.to(nav,.5,{left:0})}function closeNav(){nav.classList.contains("open")&&(classie.toggle(nav,"open"),TweenLite.to(nav,.5,{left:"-240px"}))}function accordion(target,self){for(var i=0;i<navHeaders.length;i+=1)classie.remove(navHeaders[i],"current");classie.add(self,"current"),target=document.getElementById(target),target.classList.contains("open")?(classie.toggle(target,"open"),TweenLite.to(target,.5,{"max-height":0})):(classie.toggle(target,"open"),TweenLite.to(target,.5,{"max-height":"250px"}))}function currentNav(self){for(var i=0;i<navLinks.length;i+=1)classie.remove(navLinks[i],"active");classie.add(self,"active"),closeNav()}function home(){clear();for(var i=0;i<navLinks.length;i+=1)classie.remove(navLinks[i],"active");var homeText="# Hello there. \n How do you do? \n\n This is a tutorial for the popular [Markdown](http://chrisalley.github.io/commonmark-website/) library. \n It is a submission by **Phil** of **EmiPhil** for [Jeff Atwood.](http://blog.codinghorror.com/toward-a-better-markdown-tutorial/)\n Check it out at [github!](https://github.com/EmiPhil/Markdown)\n\n Markdown is a *great* language for quickly creating HTML content.\n\n Go ahead and access one of the tutorial's from the left, or try typing directly in this _**live editor!!**_";codeMirror.setValue(homeText),render()}function sandbox(){clear(),codeMirror.setValue(""),render()}function cheatSheet(){clear();var md="# Header1\n## Header 2\n### Header 3\n#### Header 4\n##### Header 5\n###### Header 6\n*Italics*    _Italics_\n\n**Bold**    __Bold__\n\n__*Boldtalics*__    **_Boltalics_**\n\n1. List\n2. Example\n    - Sub\n\n1) Another list\n2) Example\n    * Sub\n    + Sub 2\n\n[Links](https://www.links.com)\n\n```\nCode\n```\n\n`Inline-Code`\n\nDividers:\n***\n\n---\n\n___\n\n> # Blockquotes:\n> Cupcake ipsum dolor sit amet carrot cake I love. Pudding jelly chocolate ice cream. Jelly beans lemon drops I love chocolate cake jujubes dessert. Soufflé I love jelly halvah powder. Gingerbread candy I love topping jujubes dragée chocolate. Halvah fruitcake carrot cake tiramisu.";codeMirror.setValue(md),render()}function renderTopBar(){}function removal(element){for(;element.firstChild;)element.removeChild(element.firstChild)}function clear(){removal(progBar),removal(lesson),classie.remove(instructions,"material"),destroyModal(),destroyNotices(),removal(buttonPlaceholder),currentTutorial=void 0}function tutNav(self){var name=self.textContent;_.has(tutorials),name&&tutorials[name].smartLoad()}function tutProg(self){var name=self.textContent;currentTutorial.steps.forEach(function(step){step.name===name&&currentTutorial.load(step)})}function standardNotice(type){var text,button,action;currentTutorial.current.completed=!0,destroyNotices(),"success"===type?(text="Good job!",button="Next step",action=function(){destroyNotices(),currentTutorial.next()}):(text="Oops! That doesn't look quite right. Try again?",button="Okay!",action=function(){destroyNotices()}),new Notify(text,button,type,action).render()}var codeEditor=document.getElementById("codeEditor"),codeMirror=CodeMirror(codeEditor,{value:"# Hello there. \n How do you do? \n\n This is a tutorial for the popular [Markdown](http://chrisalley.github.io/commonmark-website/) library. \n It is a submission by **Phil** of **EmiPhil** for [Jeff Atwood.](http://blog.codinghorror.com/toward-a-better-markdown-tutorial/)\n Check it out at [github!](https://github.com/EmiPhil/Markdown)\n\n Markdown is a *great* language for quickly creating HTML content.\n\n Go ahead and access one of the tutorial's from the left, or try typing directly in this _**live editor!!**_",theme:"mdn-like",lineNumbers:!0}),timeoutId;codeMirror.on("change",function(){window.clearTimeout(timeoutId),currentTutorial&&(currentTutorial.current.content=codeMirror.getValue()),timeoutId=window.setTimeout(render,1e3)});var reader=new commonmark.Parser,writer=new commonmark.HtmlRenderer,renderee=document.getElementById("target");render();var Modal=function(header,text,button){this.header=header,this.text=text,this.button=button},modalPlaceholder=document.getElementById("modalPlaceholder");Modal.prototype.render=function(){destroyModal();var black=document.createElement("div");classie.add(black,"blacken");var message=document.createElement("div");classie.add(message,"message");var header=document.createElement("div");classie.add(header,"messageHeader");var heading=document.createElement("p");heading.textContent=this.header;var close=document.createElement("div");classie.add(close,"messageClose");var x=document.createElement("span");classie.add(x,"icon-close"),x.onclick=destroyModal;var text=document.createElement("p");text.textContent=this.text;var buttons=document.createElement("div");classie.add(buttons,"buttons");var greenButton=document.createElement("div");classie.add(greenButton,"greenButton"),greenButton.innerHTML=this.button+'<span class="icon icon-check"></span>',greenButton.onclick=destroyModal,modalPlaceholder.appendChild(black),header.appendChild(heading),close.appendChild(x),buttons.appendChild(greenButton),message.appendChild(header),message.appendChild(close),message.appendChild(text),message.appendChild(buttons),modalPlaceholder.appendChild(message)};var Notify=function(text,button,type,action){this.text=text,this.button=button,this.type=type.toLowerCase(),this.action=action},notifyPlaceholder=document.getElementById("notify");Notify.prototype.render=function(){var body=document.createElement("div");switch(this.type){case"success":classie.add(body,"successNotify");break;case"failure":classie.add(body,"failureNotify");break;default:classie.add(body,"notify")}var p=document.createElement("p");p.textContent=this.text;var button=document.createElement("div");classie.add(button,"button"),button.textContent=this.button,button.onclick=this.action,body.appendChild(p),body.appendChild(button),notifyPlaceholder.appendChild(body)};var nav=document.getElementsByTagName("nav")[0],navHeaders=document.querySelectorAll(".navHeader"),navLinks=document.querySelectorAll(".navLinks"),Step=function(name,lesson,md,answer,success,failure){this.name=name,this.lesson=lesson,this.answer=answer,this.md=md,this.success=success,this.failure=failure,this.content="",this.completed=!1,this.awesome=!0},tutorials={},currentTutorial,Tutorial=function(firstStep,name){this.steps=[firstStep],this.current=this.steps[0],this.title=name,tutorials[name]=this};Tutorial.prototype.check=function(){var step=currentTutorial.current,success=step.success,failure=step.failure,context=codeMirror,result=step.answer(context,step);result?success(context,step):failure(context,step)},Tutorial.prototype.step=function(step){this.steps.push(step)};var instructions=document.getElementById("lesson");Tutorial.prototype.load=function(step){destroyNotices(),this.current=step,currentTutorial=this,this.generateProgBar(),this.generateButtons(),classie.add(instructions,"material"),this.editorLoad(step.content?step.content:step.md),render(instructions,step.lesson)};var buttonPlaceholder=document.getElementById("buttonPlaceholder");Tutorial.prototype.generateButtons=function(){removal(buttonPlaceholder);var container=document.createElement("div");classie.add(container,"buttons");var twoButtons=document.createElement("div");classie.add(twoButtons,"twoButtons");var reset=document.createElement("div");classie.add(reset,"button"),reset.textContent="Reset",reset.onclick=this.reset;var check=document.createElement("div");classie.add(check,"button"),check.textContent="Check Answer",check.onclick=this.check,twoButtons.appendChild(reset),twoButtons.appendChild(check),container.appendChild(twoButtons),buttonPlaceholder.appendChild(container)};var progBar=document.getElementById("progBar");Tutorial.prototype.generateProgBar=function(){removal(progBar);var lessonProg=document.createElement("li"),lessonProgSpan=document.createElement("span"),bolded=document.createElement("b"),text=document.createTextNode("Lesson Progress");lessonProg.className="lessonProgress",bolded.appendChild(text),lessonProgSpan.appendChild(bolded),lessonProg.appendChild(lessonProgSpan),progBar.appendChild(lessonProg);var self=this;self.steps.forEach(function(step){var li=document.createElement("li"),span=document.createElement("span"),text=document.createTextNode(step.name);li.onclick=function(){self.load(step)},self.current.name===step.name&&classie.add(li,"active"),span.appendChild(text),step.completed&&(complete=document.createElement("span"),classie.add(complete,"icon-check"),classie.add(li,"completed"),span.appendChild(complete)),self.current.name===step.name&&step.completed&&(classie.remove(li,"active"),classie.remove(li,"completed"),classie.add(li,"activeCompleted")),li.appendChild(span),progBar.appendChild(li)})},Tutorial.prototype.next=function(){var index=_.indexOf(this.steps,this.current);index+=1,this.steps[index]?this.load(this.steps[index]):this.smartLoad()},Tutorial.prototype.smartLoad=function(){var step=_.find(this.steps,function(step){return!step.completed});step?this.load(step):this.win()},Tutorial.prototype.editorLoad=function(md){codeMirror.setValue(md),render()},Tutorial.prototype.win=function(){var notWin=!1;if(this.steps.forEach(function(step){step.completed||(notWin=!0)}),!notWin){var header="Congratulations!!!",body="You've completed all the "+this.title+" challenges.\nWow!",buttonText="I'm awesome!";new Modal(header,body,buttonText).render()}},Tutorial.prototype.reset=function(){var self=currentTutorial;self.current.completed&&(self.current.completed=!1),self.current.content="",self.load(self.current)};var successNotice=_.partial(standardNotice,"success"),failNotice=_.partial(standardNotice,"failure"),begStepOneLesson="# Welcome to the beginner's tutorial!\n In this section, we will cover the basic components that make \n Markdown awesome.\n\n This top section will be the *lesson.*",begStepOneMD="## Interactive result area.\n In this area, you will be able to edit markdown in the left to try and complete the lessons.\n\n Are you ready? Let's get started!\n\n Try typing your name in on line **10.**\n\n When you are ready to submit, press the Check Answer button below!",begStepOne=new Step("Intro",begStepOneLesson,begStepOneMD,function(doc){var input=doc.getLine(7);return input?!0:!1},function(doc){var name=doc.getLine(9),namePlace=document.getElementById("namePlace");namePlace.textContent="Welcome, "+name,currentTutorial.generateProgBar(),standardNotice("success")},function(){standardNotice("failure")}),beginnersTutorial=new Tutorial(begStepOne,"Beginner"),begHeadersLesson="# This is a header.\n In markdown, headers are represented with the *#* symbol. There are six levels of headers:\n # \\# Header 1 \n ## \\## Header 2 \n ### \\### Header 3\n #### \\#### Header 4 \n ##### \\##### Header 5\n ###### \\###### Header 6\n### Objective:\n Try converting line 1 to a **level 3** header using the hashbang (#) method! **Hint:** notice the space between the hashbangs and the header text.",begHeadersMD="Content Heading\n\nBonbon halvah gingerbread tiramisu soufflé halvah candy canes. Brownie tootsie roll danish cake candy canes chocolate cake.\n Candy canes gingerbread jujubes chocolate caramels pudding bonbon dragée. Sugar plum sweet fruitcake macaroon marzipan.\n Dessert candy canes apple pie pie gummies cupcake bonbon gingerbread dragée. Marzipan candy canes biscuit cake apple pie.\n\nBrownie carrot cake caramels jelly. Topping topping lemon drops macaroon chocolate cake.\n Chocolate tiramisu jelly tootsie roll. Fruitcake pastry cheesecake. Icing cake danish.\n Lollipop chocolate carrot cake jelly-o tart topping bear claw macaroon.",begHeaders=new Step("Headers",begHeadersLesson,begHeadersMD,function(doc){var input=doc.getLine(0),check=/^### \w+/;return check.test(input)?!0:!1},successNotice,failNotice);beginnersTutorial.step(begHeaders);var begEmphasisLesson="# *Attitude!*\nIn markdown, italics are created with the * (asterix) symbol: \n\n\\**So Deep\\**\n# **Yelling!**\nBold words are created with two asterix symbols: \n\n\\*\\***So Powerful**\\*\\*\n\n**NOTE:** Do not add a space between the asterix and the word!\n### Objective:\n\nTry adding italics to each occurence of the word attitude in the text, and bolding every occurence of the word BOLD!\n\n**Hint:** don't forget to add the asterix symbols to both sides of the word!",begEmphasisMD="Cupcake cookie BOLD gingerbread. Fruitcake cupcake wafer. Attitude. Icing cake danish.\nHalvah halvah croissant cheesecake. Attitude. Lemon drops cotton candy BOLD jelly beans chupa chups halvah.",begEmphasis=new Step("Emphasis",begEmphasisLesson,begEmphasisMD,function(doc){var input=doc.getValue();input=input.replace(/\./g,"");var attitude=/\*Attitude\*/g,bold=/\*\*BOLD\*\*/g,foundA=input.match(attitude),foundB=input.match(bold);return foundA&&foundB&&2===foundA.length&&2===foundB.length?!0:!1},successNotice,failNotice);beginnersTutorial.step(begEmphasis);var begListsLesson="# Lists\n Making lists in markdown is as simple as creating them in a typical word document:\n 1. \n 2. \n 3. \n\n You can also make unordered lists using the format - A:\n\n - A \n - B \n - C \n### Objective:\n\n Try to convert the text to match this: \n ## TODO\n 1. Learn Markdown\n     - Complete all the tutorials\n     - Master all the techniques\n     - Have fun\n 2. ???\n 3. Profit.\n\n **Hint:** To create a sublist, indent four spaces (spaces indicated by dots):\n\n1. Learn Markdown\n\n....- Complete all the tutorials\n\nDon't forget to add a space between the bullet point and the content!",begListsMD="## TODO\nLearn Markdown\nComplete all the tutorials\nMaster all the techniques\nHave fun\n???\nProfit.",begLists=new Step("Lists",begListsLesson,begListsMD,function(doc){var input=doc.getValue(),list=/(## TODO\n)(1. \w+\s\w+\n)(( {4}- (\w+\s)+){3})(2. .+\n)(3. \w+\.)/g;return list.test(input)?!0:!1},successNotice,failNotice);beginnersTutorial.step(begLists);var begLinksLesson="# Links\nAdding html links to your content can help add a strong backbone to \nyour content. Adding links in [Markdown](http://spec.commonmark.org/0.18/#) \nis very intuitive: \n\n \\[Text to display](http://www.content.com)\n\n For example, to get a link to [Google](https://www.google.com) like this, type:\n\n \\[Google](https://www.google.com)\n### Objective:\nTry creating a link to 'https://www.facebook.com' with a placeholder text that says 'Facebook' on line 1!",begLinksMD="",begLinks=new Step("Links",begLinksLesson,begLinksMD,function(doc){var input=doc.getLine(0);input=input.toLowerCase();var check=/\[facebook\]\(https\:\/\/www\.facebook\.com\)/g;return check.test(input)?!0:!1},successNotice,failNotice);beginnersTutorial.step(begLinks);var begCodeLesson="# Code\n Adding code blocks to your content is useful if you are a developer of some sort:\n\n```javascript\nfunction sum () {\n    /**\n    * Add all values\n    * @param {...toAdd} Number - All numbers to add\n    * @return {Total} Number - The result\n    */\n\n    var args = Array.prototype.slice.call(arguments),\n        sum = 0;\n    args.forEach(function (e) { sum += e });\n    return sum;\n}\n```\n\nCool, huh?\n\nYou can make these code blocks by surrouding your content with ``` :\n\n\\```\n\n Some code\n\n\\```\n### Objective:\nCreate a code block that contains the word 'code'\n\n**Hint:** it will take **3** lines to properly do this challenge.",begCodeMD="",begCode=new Step("Code",begCodeLesson,begCodeMD,function(doc){var input=doc.getValue();input=input.toLowerCase(),input=input.replace(/\n/g,"");var check=/```code```/g;return check.test(input)?!0:!1},successNotice,failNotice);beginnersTutorial.step(begCode);var begBlockquotesLesson="# Blockquotes\nFound a cool new quote about Einstein being a marine? Include it in your\ncontent using blockquotes! To create a blockquote, simply prepend each line with >:\n\n\\> Blockquotes could be used to show customer testimonies,\n\n\\> for example. That would definitely increase sales.\n\nRenders to:\n\n> Blockquotes could be used to show customer testimonies for example. That would definitely increase sales.\n### Objective:\nConvert the text into a blockquote!",begBlockquotesMD="Cupcake ipsum dolor. Sit amet cookie gummi bears I love cupcake bonbon I love.\nCandy cotton candy cotton candy pastry. I love icing danish sweet roll jujubes\nice cream bonbon bonbon soufflé. Oat cake macaroon dragée cotton candy croissant\ntopping cookie. Chocolate sesame snaps cake toffee tootsie roll bonbon gingerbread pudding icing.",begBlockquote=new Step("Blockquote",begBlockquotesLesson,begBlockquotesMD,function(doc){var good=!0,check=/> .+/;return doc.eachLine(function(handle){var line=handle.text;line=line.replace(/\n/g,""),check.test(line)||(good=!1)}),good},successNotice,failNotice);beginnersTutorial.step(begBlockquote);var begDividerLesson="# Divider\nYou can easily divide your content by typing in three or more \n\n\\--- hyphens \n\n ---\n\n\\*** asterisks \n\n ***\n\n\\___ underscores \n\n ___\n### Objective:\n Put a divider between each paragraph!\n\n**Hint:** Edit lines 3, 7, and 11",begDividerMD="Cupcake ipsum dolor. Sit amet marshmallow dessert powder. Tootsie roll gummies sesame snaps. Soufflé gummi bears gummi bears.\n\n\n\nFruitcake dessert bear claw jujubes. Jujubes lemon drops I love pastry wafer pastry. I love I love marshmallow muffin gummies I love. Tiramisu chocolate cake topping I love ice cream cupcake danish tootsie roll.\n\n\n\nChocolate cake I love brownie chocolate cake donut chocolate. Marzipan tootsie roll cheesecake ice cream icing. Sugar plum biscuit macaroon chocolate muffin cupcake wafer bonbon. Powder tiramisu I love ice cream donut marzipan I love marzipan.\n\n\n\nJelly dragée wafer jujubes pudding icing bonbon chocolate lemon drops. Muffin chocolate bar chupa chups icing topping cupcake. Jelly beans powder I love bear claw carrot cake I love marshmallow caramels gummies.",begDivider=new Step("Divider",begDividerLesson,begDividerMD,function(doc){var good=!0,lines=[];lines.push(doc.getLine(2),doc.getLine(6),doc.getLine(10));var check=/(\*|_|-){3,}/;return lines.forEach(function(e){e=e.replace(/\n/g,""),check.test(e)||(good=!1)}),good},successNotice,failNotice);beginnersTutorial.step(begDivider);